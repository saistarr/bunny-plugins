(function(ae,B,S,t,ue,ce,G,z,b,Ot,a,e,Fe,O,L,Ie,kt,Te){"use strict";function $t(r){var l=Object.create(null);return r&&Object.keys(r).forEach(function(s){if(s!=="default"){var o=Object.getOwnPropertyDescriptor(r,s);Object.defineProperty(l,s,o.get?o:{enumerable:!0,get:function(){return r[s]}})}}),l.default=r,Object.freeze(l)}var Vt=$t(b),at,rt,lt=S.findByProps("openLazy","hideActionSheet"),zt=lt.openLazy;lt.hideActionSheet;function st(r,l){if(r!=null&&l!=null){var s=!0,o=!1,n=void 0;try{for(var u=Object.keys(l)[Symbol.iterator](),i;!(s=(i=u.next()).done);s=!0){var c=i.value;if(typeof l[c]=="object"&&!Array.isArray(l[c]))typeof r[c]!="object"&&(r[c]={}),st(r[c],l[c]);else{var d;(d=(at=r)[rt=c])!==null&&d!==void 0||(at[rt]=l[c])}}}catch(E){o=!0,n=E}finally{try{!s&&u.return!=null&&u.return()}finally{if(o)throw n}}}}function Ht(r,l){try{zt(new Promise(function(s){return s({default:r})}),"ActionSheet",l)}catch(s){B.logger.error(s.stack),showToast("Got error when opening ActionSheet! Please check debug logs")}}var Yt=function(r,l){return"".concat(r).concat(Math.floor(l*255).toString(16).padStart(2,0))},Y={toInt:function(r){return r=r.replace(/^#/,""),parseInt(r,16)},toHex:function(r){var l=r.toString(16).toUpperCase();return"#"+l},HSLtoHEX:function(r,l,s){s/=100;var o=l*Math.min(s,1-s)/100,n=function(u){var i=(u+r/30)%12,c=s-o*Math.max(Math.min(i-3,9-i,1),-1);return Math.round(255*c).toString(16).padStart(2,"0")};return"#".concat(n(0)).concat(n(8)).concat(n(4))}};function ot(r){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;return{version:r,new:l,updated:s,fix:o}}var jt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mJsrQAAAgwBAJ9P6qYAAAAASUVORK5CYII=",ge={toPercentage:function(r){return r=Number(r),r===0?0:r===1?100:Math.round(r*100)},toDecimal:function(r){r=Number(r);var l=Math.min(Math.max(r,0),100);return l===0?0:l===100?1:l/100},formatDecimal:function(r){return r=Number(r),r===0||r===1?r:r.toFixed(2)},alphaToHex:function(r){r=Number(r);var l=Math.min(Math.max(r,0),100),s=Math.round(l/100*255).toString(16).toUpperCase();return s.length===1?"0"+s:s},hexAlphaToPercent:function(r){var l=parseInt(r,16);return isNaN(l)?0:Math.round(l/255*100)}};S.findByProps("openLazy","hideActionSheet");var it=S.findByProps("getChannel","getDMFromUserId"),Xt=S.findByProps("_channelMessages"),Wt=S.findByProps("getMessage","getMessages");function Jt(r){return z.before("dispatch",a.FluxDispatcher,function(l){var s=G(l,1),o=s[0],n=o?.type;if(e.storage.debug&&console.log("[ANTIED fluxdispatcher]",o),n=="MESSAGE_DELETE"){var u,i,c,d,E,y,g,I,A,v,R,T,k;if(e.storage.switches.enableMD==!1||o?.otherPluginBypass)return l;var f=Xt.get(o.channelId),m=f?.get(o.id);if(!m||o?.id&&((u=r[o?.id])===null||u===void 0?void 0:u.stage)==2)return l;if(o?.id&&((i=r[o?.id])===null||i===void 0?void 0:i.stage)==1){var w;r[o?.id].stage=2;var h;return(h=(w=r[o?.id])===null||w===void 0?void 0:w.message)!==null&&h!==void 0?h:l}var M=m==null||(c=m.author)===null||c===void 0?void 0:c.id,N=m==null||(d=m.author)===null||d===void 0?void 0:d.username,F=!m?.content&&(m==null||(E=m.attachments)===null||E===void 0?void 0:E.length)==0&&(m==null||(y=m.embeds)===null||y===void 0?void 0:y.length)==0;if(!M||!N||F||!(e.storage===null||e.storage===void 0||(g=e.storage.switches)===null||g===void 0)&&g.ignoreBots&&!(m==null||(I=m.author)===null||I===void 0)&&I.bot||(e.storage===null||e.storage===void 0||(A=e.storage.inputs)===null||A===void 0||(v=A.ignoredUserList)===null||v===void 0?void 0:v.length)>0&&!((R=e.storage.inputs.ignoredUserList)===null||R===void 0)&&R.some(function(V){var te;return V?.id==(m==null||(te=m.author)===null||te===void 0?void 0:te.id)||V.username==m.author.username}))return l;var C=(T=it?.getChannel(m?.channel_id))===null||T===void 0?void 0:T.guild_id,D=ce(ue({},m),{content:m?.content,type:0,channel_id:m?.channel_id||o?.channelId,guild_id:C,timestamp:"".concat(new Date().toJSON()),state:"SENT",was_deleted:!0});return!(e.storage===null||e.storage===void 0||(k=e.storage.switches)===null||k===void 0)&&k.useEphemeralForDeleted&&(D.flags=64),l[0]={type:"MESSAGE_UPDATE",channelId:m?.channel_id||o?.channelId,message:D,optimistic:!1,sendMessageOptions:{},isPushNotification:!1},r[o?.id||m?.id]={message:l,stage:1},l}if(n=="MESSAGE_UPDATE"){var _,x,$,oe,ie,ne,X,W,Re,be,J,K,Q,H,q,Z,p,ee;if(e.storage.switches.enableMU==!1||o?.otherPluginBypass||!(o==null||(_=o.message)===null||_===void 0||(x=_.author)===null||x===void 0)&&x.bot)return l;var P=Wt.getMessage((o==null||($=o.message)===null||$===void 0?void 0:$.channel_id)||o?.channelId,(o==null||(oe=o.message)===null||oe===void 0?void 0:oe.id)||o?.id),Ee=P==null||(ie=P.author)===null||ie===void 0?void 0:ie.id,je=P==null||(ne=P.author)===null||ne===void 0?void 0:ne.username,de=!P?.content&&(P==null||(X=P.attachments)===null||X===void 0?void 0:X.length)==0&&(P==null||(W=P.embeds)===null||W===void 0?void 0:W.length)==0;if(!P||!Ee||!je||de||!(!(o==null||(Re=o.message)===null||Re===void 0)&&Re.content)||!P?.content||(o==null||(be=o.message)===null||be===void 0?void 0:be.content)==P?.content||(e.storage===null||e.storage===void 0||(J=e.storage.inputs)===null||J===void 0||(K=J.ignoredUserList)===null||K===void 0?void 0:K.length)>0&&!(e.storage===null||e.storage===void 0||(Q=e.storage.inputs)===null||Q===void 0||(H=Q.ignoredUserList)===null||H===void 0)&&H.some(function(V){var te,tt;return V?.id==(P==null||(te=P.author)===null||te===void 0?void 0:te.id)||V?.username==(P==null||(tt=P.author)===null||tt===void 0?void 0:tt.username)}))return l;var ye=(e.storage===null||e.storage===void 0||(q=e.storage.inputs)===null||q===void 0?void 0:q.editedMessageBuffer)||"`[ EDITED ]`",Xe=function(V){return"".concat(V,`

`)},Dr=o?.message||P,De="".concat(P?.content);if(!(e.storage===null||e.storage===void 0||(Z=e.storage.switches)===null||Z===void 0)&&Z.addTimestampForEdits){var We,Ir=Date.now(),Tr=["t","T","d","D","f","F","R"],Pr=Tr.some(function(V){return V==e.storage.switches.timestampStyle})?e.storage.switches.timestampStyle:"R",Ut="<t:".concat(Math.abs(Math.round(Ir/1e3)),":").concat(Pr,">");if((e.storage===null||e.storage===void 0||(We=e.storage.misc)===null||We===void 0?void 0:We.timestampPos)=="BEFORE"){var Je,Ke,Br="".concat(Xe("(".concat(Ut,") ").concat(ye))).concat((Ke=o==null||(Je=o.message)===null||Je===void 0?void 0:Je.content)!==null&&Ke!==void 0?Ke:"");De+="  ".concat(Br)}else{var Qe,qe,Lr="".concat(Xe("".concat(ye," (").concat(Ut,")"))).concat((qe=o==null||(Qe=o.message)===null||Qe===void 0?void 0:Qe.content)!==null&&qe!==void 0?qe:"");De+="  ".concat(Lr)}}else{var Ze,et;De+="  ".concat(Xe(ye)).concat((et=o==null||(Ze=o.message)===null||Ze===void 0?void 0:Ze.content)!==null&&et!==void 0?et:"")}var Mr=(ee=it.getChannel(o?.channelId||(o==null||(p=o.message)===null||p===void 0?void 0:p.channel_id)||P?.channel_id))===null||ee===void 0?void 0:ee.guild_id;return l[0]={type:"MESSAGE_UPDATE",message:ce(ue({},Dr),{content:De,guild_id:Mr,edited_timestamp:"invalid_timestamp"})},l}return l})}var Kt=S.findByProps("startEditMessage");function Qt(){return z.before("startEditMessage",Kt,function(r){var l,s=(e.storage===null||e.storage===void 0||(l=e.storage.inputs)===null||l===void 0?void 0:l.editedMessageBuffer)||"`[ EDITED ]`",o=Ae(s),n=new RegExp("(?:(?:\\s".concat(o,"(\\s\\(<t:\\d+:[tTdDfFR]>\\))?\\n{2})|(?:(?:\\s\\(<t:\\d+:[tTdDfFR]>\\) ").concat(o,"\\n{2})))"),"gm"),u=G(r,3);u[0],u[1];var i=u[2],c=i.split(n);return r[2]=c[c.length-1],r})}var nt,qt=a.ReactNative.NativeModules.DCDChatManager;function Zt(r){return z.before("updateRows",qt,function(l){var s,o=JSON.parse(l[1]),n=e.storage.colors,u=n.textColor,i=n.backgroundColor,c=n.backgroundColorAlpha,d=n.gutterColor,E=n.gutterColorAlpha,y=(s=e.storage.inputs)===null||s===void 0?void 0:s.deletedMessageBuffer,g=e.storage.switches,I=g.useBackgroundColor,A=g.minimalistic,v=g.removeDismissButton;function R(f,m){f||(f=m);var w=f?.trim();if(w.startsWith("#")){var h=w.slice(1);if(/^[0-9A-Fa-f]{6}$/.test(h))return"#"+h.toUpperCase()}else if(/^[0-9A-Fa-f]{6}$/.test(w))return"#"+w.toUpperCase();return m||"#000"}function T(f,m){var w=m?.toString(),h=["text","heading","s","u","em","strong","list","blockQuote"];if(Array.isArray(f))return f.map(function($){return T($,w)});if(typeof f=="object"&&f!==null){var M=f.content,N=f.type,F=f.target,C=f.items;if(!h.includes(N))return f;if(N==="text"&&M&&M.length>=1)return{content:[{content:M,type:"text"}],target:"usernameOnClick",type:"link",context:{username:1,medium:!0,usernameOnClick:{action:"0",userId:"0",linkColor:a.ReactNative.processColor(w),messageChannelId:"0"}}};var D=T(M,w),_=C?C.map(T,w):void 0;if(D!==M||_!==C||!h.includes(N)){var x=ce(ue({},f),{content:D});return N==="blockQuote"&&F&&(x.content=D,x.target=F),N==="list"&&x?.content&&delete x.content,C&&(x.items=_),x}}return f}function k(f,m,w){return f&&f.content[0].content.splice(1),f}return o.forEach(function(f){if(e.storage.debug&&console.log(f),f?.type==1){var m;if(r[f==null||(m=f.message)===null||m===void 0?void 0:m.id]){var w;if((y?.length>0||y!="")&&(f.message.edited=y),A==!1){var h,M=R(u,"#E40303"),N=T(f==null||(h=f.message)===null||h===void 0?void 0:h.content,M);f.message.content=N}if(v&&!(f==null||(w=f.message)===null||w===void 0)&&w.ephemeralIndication&&(f.message.ephemeralIndication=k(f.message.ephemeralIndication)),A==!1&&I==!0){var F=R("".concat(i),"#FF2C2F"),C=R("".concat(d),"#FF2C2F"),D;(D=(nt=f).backgroundHighlight)!==null&&D!==void 0||(nt.backgroundHighlight={}),f.backgroundHighlight={backgroundColor:a.ReactNative.processColor("".concat(F).concat(c)),gutterColor:a.ReactNative.processColor("".concat(C).concat(E))}}}}}),l[1]=JSON.stringify(o),l[1]})}var ea=S.findByProps("updateMessageRecord","createMessageRecord");function ta(){return z.after("createMessageRecord",ea,function(r,l){var s=G(r,1),o=s[0];l.was_deleted=o.was_deleted})}var aa=S.findByName("MessageRecord",!1);function ra(){return z.after("default",aa,function(r,l){var s=G(r,1),o=s[0];l.was_deleted=!!o.was_deleted})}var dt=S.findByProps("updateMessageRecord","createMessageRecord");function la(){return z.instead("updateMessageRecord",dt,function(r,l){var s=G(r,2),o=s[0],n=s[1];return n.was_deleted?dt.createMessageRecord(n,o.reactions):l.apply(this,[o,n])})}var Pe=S.findByProps("openLazy","hideActionSheet"),sa=S.findByProps("getMessage","getMessages"),ut=S.findByProps("getChannel","getDMFromUserId"),we=S.findByProps("ActionSheetRow").ActionSheetRow;function oa(r){return z.before("openLazy",Pe,function(l){var s=G(l,3),o=s[0],n=s[1],u=s[2],i=u?.message;n!=="MessageLongPressActionSheet"||!i||o.then(function(c){var d=z.after("default",c,function(E,y){var g,I,A;a.React.useEffect(function(){return function(){d()}},[]),e.storage.debug&&console.log("[ANTIED ActionSheet]",i);var v=Ot.findInReactTree(y,function(F){var C;return F==null||(C=F.find)===null||C===void 0?void 0:C.call(F,function(D){var _,x;return(D==null||(_=D.props)===null||_===void 0?void 0:_.label)==(a.i18n===null||a.i18n===void 0||(x=a.i18n.Messages)===null||x===void 0?void 0:x.MESSAGE_ACTION_REPLY)})});if(!v)return y;var R=Math.max(v.findIndex(function(F){var C,D;return(F==null||(C=F.props)===null||C===void 0?void 0:C.label)==(a.i18n===null||a.i18n===void 0||(D=a.i18n.Messages)===null||D===void 0?void 0:D.MESSAGE_ACTION_REPLY)}),v.length-1),T=sa.getMessage(i.channel_id,i?.id),k=Ae((e.storage===null||e.storage===void 0||(g=e.storage.inputs)===null||g===void 0?void 0:g.editedMessageBuffer)||"`[ EDITED ]`"),f=new RegExp(k,"gmi"),m=f.test(i.content);if(m){var w,h=R||1;v.splice(h,0,a.React.createElement(we,{label:"Remove Edit History",subLabel:"Added by ".concat(He(B.plugin===null||B.plugin===void 0||(w=B.plugin.manifest)===null||w===void 0?void 0:w.name)||"ANTIED"),icon:a.React.createElement(we.Icon,{source:b.getAssetIDByName("ic_edit_24px")}),onPress:function(){var F,C,D,_,x,$,oe=(e.storage===null||e.storage===void 0||(F=e.storage.inputs)===null||F===void 0?void 0:F.editedMessageBuffer)||"`[ EDITED ]`",ie=Ae(oe),ne=new RegExp("(?:(?:\\s".concat(ie,"(\\s\\(<t:\\d+:[tTdDfFR]>\\))?\\n{2})|(?:(?:\\s\\(<t:\\d+:[tTdDfFR]>\\) ").concat(ie,"\\n{2})))"),"gm"),X=i==null||(C=i.content)===null||C===void 0?void 0:C.split(ne);if(e.storage.debug){var W;console.log([[oe],i==null||(W=i.content)===null||W===void 0?void 0:W.split(ne),X])}var Re=X[X.length-1],be=i==null||(D=i.embeds)===null||D===void 0?void 0:D.map(function(p){var ee,P,Ee,je=(Ee=(P=p==null||(ee=p.color)===null||ee===void 0?void 0:ee.replace(/.+\(/,""))===null||P===void 0?void 0:P.replace(/%/g,""))===null||Ee===void 0?void 0:Ee.replace(")",""),de=je?.split(", "),ye=a.ReactNative.processColor("".concat(Yt(Y.HSLtoHEX(de[0],de[1],de[2]),de[3])));return ce(ue({},p),{author:p.author,title:p.rawTitle,description:p.rawDescription,url:p.url,type:p.type,image:p.image,thumbnail:p.thumbnail,color:ye,content_scan_version:1})}),J,K;if(a.FluxDispatcher.dispatch({type:"MESSAGE_UPDATE",message:ce(ue({},i),{content:"".concat(Re),embeds:be??[],attachments:(J=i.attachments)!==null&&J!==void 0?J:[],mentions:(K=i.mentions)!==null&&K!==void 0?K:[],guild_id:ut.getChannel(T.channel_id).guild_id}),otherPluginBypass:!0}),Pe.hideActionSheet(),(e.storage===null||e.storage===void 0||(_=e.storage.inputs)===null||_===void 0||(x=_.historyToast)===null||x===void 0?void 0:x.length)>0||(e.storage===null||e.storage===void 0||($=e.storage.inputs)===null||$===void 0?void 0:$.historyToast)!=""){var Q,H,q,Z;Fe.showToast(e.storage===null||e.storage===void 0||(Q=e.storage.inputs)===null||Q===void 0||(H=Q.historyToast)===null||H===void 0||(q=H.toString)===null||q===void 0?void 0:q.call(H),b.getAssetIDByName((e.storage===null||e.storage===void 0||(Z=e.storage.misc)===null||Z===void 0?void 0:Z.editHistoryIcon)||"ic_edit_24px"))}}}))}if(e.storage.debug&&console.log("[ANTIED ActionSheet]","useEphemeralForDeleted",!(!(e.storage===null||e.storage===void 0||(I=e.storage.switches)===null||I===void 0)&&I.useEphemeralForDeleted),"msgExist?",!!r[i.id]),!(!(e.storage===null||e.storage===void 0||(A=e.storage.switches)===null||A===void 0)&&A.useEphemeralForDeleted)&&r[i.id]){var M,N=R||1;v.splice(N,0,a.React.createElement(we,{label:"Remove Deleted Message",subLabel:"Added by ".concat(He(B.plugin===null||B.plugin===void 0||(M=B.plugin.manifest)===null||M===void 0?void 0:M.name)||"ANTIED"),isDestructive:!0,icon:a.React.createElement(we.Icon,{source:b.getAssetIDByName("ic_edit_24px")}),onPress:function(){var F,C,D;a.FluxDispatcher.dispatch({type:"MESSAGE_DELETE",guildId:ut.getChannel(T.channel_id).guild_id,id:i?.id,channelId:i?.channel_id,otherPluginBypass:!0}),Pe.hideActionSheet(),((e.storage===null||e.storage===void 0||(F=e.storage.inputs)===null||F===void 0||(C=F.historyToast)===null||C===void 0?void 0:C.length)>0||(e.storage===null||e.storage===void 0||(D=e.storage.inputs)===null||D===void 0?void 0:D.historyToast)!="")&&Fe.showToast("[ANTIED] Message Removed",b.getAssetIDByName("ic_edit_24px"))}}))}})})})}t.General.ScrollView;var ia=t.General.View;t.General.Text,t.General.TouchableOpacity,t.General.TextInput,t.General.Pressable,t.General.Image,t.General.Animated,t.Forms.FormLabel;var na=t.Forms.FormIcon;t.Forms.FormArrow;var da=t.Forms.FormRow,ua=t.Forms.FormSwitch;t.Forms.FormSwitchRow,t.Forms.FormSection;var ca=t.Forms.FormDivider;t.Forms.FormInput,t.Forms.FormSliderRow;var ct=[{id:"enableMD",default:!0,label:"Toggle Message Delete",subLabel:"Logs deleted message"},{id:"enableMU",default:!0,label:"Toggle Message Update",subLabel:"Logs edited message"}];function ga(r){var l=r.styles;return O.useProxy(e.storage),React.createElement(React.Fragment,null,React.createElement(ia,{style:[l.subText]},ct?.map(function(s,o){var n;return React.createElement(React.Fragment,null,React.createElement(da,{label:s?.label,subLabel:s?.subLabel,leading:s?.icon&&React.createElement(na,{style:{opacity:1},source:b.getAssetIDByName(s?.icon)}),trailing:"id"in s?React.createElement(ua,{value:(n=e.storage===null||e.storage===void 0?void 0:e.storage.switches[s?.id])!==null&&n!==void 0?n:s?.default,onValueChange:function(u){return e.storage.switches[s?.id]=u}}):void 0}),o!==ct?.length-1&&React.createElement(ca,null))})))}t.General.ScrollView;var va=t.General.View;t.General.Text,t.General.TouchableOpacity,t.General.TextInput,t.General.Pressable,t.General.Image,t.General.Animated,t.Forms.FormLabel;var fa=t.Forms.FormIcon;t.Forms.FormArrow;var ha=t.Forms.FormRow;t.Forms.FormSwitch,t.Forms.FormSwitchRow,t.Forms.FormSection;var Be=t.Forms.FormDivider,Le=t.Forms.FormInput;t.Forms.FormSliderRow;var gt=[{id:"deletedMessageBuffer",title:"Customize Deleted Message",type:"default",placeholder:"This message is deleted"},{id:"editedMessageBuffer",title:"Customize Edited Separator",type:"default",placeholder:"`[ EDITED ]`"},{id:"historyToast",title:"Customize Remove History Toast Message",type:"default",placeholder:"History Removed"}];function ma(r){var l=r.styles,s,o,n,u,i,c;return O.useProxy(e.storage),React.createElement(React.Fragment,null,React.createElement(va,{style:[l.subText]},gt?.map(function(d,E){var y,g;return React.createElement(React.Fragment,null,React.createElement(Le,{title:d?.title,keyboardType:d?.type,placeholder:d==null||(y=d.placeholder)===null||y===void 0?void 0:y.toString(),value:(g=e.storage===null||e.storage===void 0?void 0:e.storage.inputs[d.id])!==null&&g!==void 0?g:d?.placeholder,onChange:function(I){return e.storage.inputs[d.id]=I.toString()}}),E!==gt.length-1&&React.createElement(Be,null))}),React.createElement(Le,{title:"Customize Plugin Name",keyboardType:"default",placeholder:(e.storage===null||e.storage===void 0||(s=e.storage.inputs)===null||s===void 0?void 0:s.customPluginName)||(B.plugin===null||B.plugin===void 0||(o=B.plugin.manifest)===null||o===void 0?void 0:o.name)||"ANTIED",value:e.storage===null||e.storage===void 0||(n=e.storage.inputs)===null||n===void 0?void 0:n.customPluginName,onChange:function(d){e.storage.inputs.customPluginName=d.toString(),B.plugin.manifest.name=d.toString()}}),React.createElement(Be,null),React.createElement(ha,{label:"Current Used Icon - ".concat((e.storage===null||e.storage===void 0||(u=e.storage.misc)===null||u===void 0?void 0:u.editHistoryIcon)||"ic_edit_24px"),subLabel:"Icon for Message History Removed toast",trailing:React.createElement(fa,{style:{opacity:1},source:b.getAssetIDByName(e.storage===null||e.storage===void 0||(i=e.storage.misc)===null||i===void 0?void 0:i.editHistoryIcon)})}),React.createElement(Be,null),React.createElement(Le,{title:"Icon Name",keyboardType:"default",placeholder:"ic_edit_24px",value:(e.storage===null||e.storage===void 0||(c=e.storage.misc)===null||c===void 0?void 0:c.editHistoryIcon)||"ic_edit_24px",onChange:function(d){return e.storage.misc.editHistoryIcon=d.toString()}})))}var Ra=t.Forms.FormRow,ba=S.findByName("RowCheckmark");function Me(r){var l=r.label,s=r.subLabel,o=r.selected,n=r.onPress;return React.createElement(Ra,{label:l,subLabel:s,trailing:React.createElement(ba,{selected:o}),onPress:n})}var vt=[{type:"t",label:"Short Time",subLabel:"16:20"},{type:"T",label:"Long Time",subLabel:"16:20:30"},{type:"d",label:"Short Date",subLabel:"20/04/2021"},{type:"D",label:"Long Date",subLabel:"20 April 2021"},{type:"f",label:"Short Date/Time",subLabel:"20 April 2021 16:20"},{type:"F",label:"Long Date/Time",subLabel:"Tuesday, 20 April 2021 16:20"},{type:"R",label:"Relative Time",subLabel:"2 months ago"}],ft=[{label:"Before",subLabel:"Old Message (2 minutes ago) [Edited] New Message",key:"BEFORE"},{label:"After",subLabel:"Old Message [Edited] (2 minutes ago) New Message",key:"AFTER"}],ht=t.Forms.FormRow,xe=t.Forms.FormDivider;function Ea(){return O.useProxy(e.storage),React.createElement(React.Fragment,null,React.createElement(ht,{label:"Timestamp Style"}),vt.map(function(r,l){var s=r.type,o=r.label,n=r.subLabel;return React.createElement(React.Fragment,null,React.createElement(Me,{label:o,subLabel:"Example: ".concat(n),selected:e.storage.switches.timestampStyle==s,onPress:function(){return e.storage.switches.timestampStyle=s}}),l!==vt.length-1&&React.createElement(xe,null))}),React.createElement(xe,null),React.createElement(ht,{label:"Timestamp Position"}),ft.map(function(r,l){var s=r.key,o=r.label,n=r.subLabel,u;return React.createElement(React.Fragment,null,React.createElement(Me,{label:o,subLabel:"Example: ".concat(n),selected:((u=e.storage.misc)===null||u===void 0?void 0:u.timestampPos)==s,onPress:function(){return e.storage.misc.timestampPos=s}}),l!==ft.length-1&&React.createElement(xe,null))}))}var ya=Object.keys(L.semanticColors).map(function(r){return"semanticColors.".concat(r)}),Fa=Object.keys(L.rawColors).map(function(r){return"rawColors.".concat(r)}),mt=Ie(ya).concat(Ie(Fa)),wa=t.Forms.FormRow,Ca=t.Forms.FormDivider,Sa=t.Forms.ScrollView;function Aa(){return O.useProxy(e.storage),React.createElement(React.Fragment,null,React.createElement(Sa,null,React.createElement(wa,{label:"Choose Color"}),mt.map(function(r,l){return React.createElement(React.Fragment,null,React.createElement(Me,{label:r,selected:e.storage.colors.semRawColorPrefix==r,onPress:function(){return e.storage.colors.semRawColorPrefix=r}}),l!==mt.length-1&&React.createElement(Ca,null))})))}var Da=S.findByName("CustomColorPickerActionSheet"),Ne=ge.alphaToHex,Rt=ge.hexAlphaToPercent,ve=ge.toPercentage,bt=ge.toDecimal,Et=ge.formatDecimal;t.General.ScrollView;var fe=t.General.View,yt=t.General.Text,Ia=t.General.TouchableOpacity;t.General.TextInput,t.General.Pressable;var Ta=t.General.Image;t.General.Animated,t.Forms.FormLabel,t.Forms.FormIcon,t.Forms.FormArrow;var he=t.Forms.FormRow,Pa=t.Forms.FormSwitch;t.Forms.FormSwitchRow,t.Forms.FormSection;var Ba=t.Forms.FormDivider;t.Forms.FormInput;var Ft=t.Forms.FormSliderRow,wt=[{id:"textColor",label:"Deleted Message Text Color",subLabel:"Click to customize Deleted Message Text Color",defaultColor:"#E40303"},{id:"backgroundColor",label:"Deleted Message Background Color",subLabel:"Click to customize Background Color",defaultColor:"#FF2C2F"},{id:"gutterColor",label:"Deleted Message Background Gutter Color",subLabel:"Click to customize Background Gutter Color",defaultColor:"#FF2C2F"}];function La(r){var l=r.styles,s,o,n,u,i,c,d;O.useProxy(e.storage);var E,y=G(a.React.useState(bt((E=Rt(e.storage===null||e.storage===void 0||(s=e.storage.colors)===null||s===void 0?void 0:s.backgroundColorAlpha))!==null&&E!==void 0?E:100)),2),g=y[0],I=y[1],A,v=G(a.React.useState(bt((A=Rt(e.storage===null||e.storage===void 0||(o=e.storage.colors)===null||o===void 0?void 0:o.gutterColorAlpha))!==null&&A!==void 0?A:100)),2),R=v[0],T=v[1],k=a.NavigationNative.useNavigation(),f=function(h){return Ne(ve(h))},m=function(h){if(!h)return null;var M=G(h.split("."),2),N=M[0],F=M[1];return N=="semanticColors"?L.semanticColors[F]:L.rawColors[F]},w;return a.React.createElement(a.React.Fragment,null,a.React.createElement(fe,{style:[l.subText]},(e.storage===null||e.storage===void 0||(n=e.storage.switches)===null||n===void 0?void 0:n.useSemRawColors)&&a.React.createElement(a.React.Fragment,null,a.React.createElement(he,{label:"Semantic & Raw Colors",subLabel:"If you enabled [Use Semantic/Raw Color], you can pick the colors from here",leading:a.React.createElement(he.Icon,{source:b.getAssetIDByName("ic_audit_log_24px")}),trailing:he.Arrow,onPress:function(){return k.push("VendettaCustomPage",{title:"Semantic & Raw Colors",render:function(){return a.React.createElement(Aa,null)}})}})),wt?.map(function(h){var M,N=function(){return Ht(Da,{color:Y?.toInt(e.storage.colors[h.id]||h?.defaultColor||"#000"),onSelect:function(F){var C=Y?.toHex(F);e.storage.colors[h.id]=C}})};return a.React.createElement(a.React.Fragment,null,a.React.createElement(he,{label:h?.label,subLabel:h?.subLabel||"Click to Update",onPress:N,trailing:a.React.createElement(Ia,{onPress:N},a.React.createElement(Ta,{source:{uri:jt},style:{width:32,height:32,borderRadius:10,backgroundColor:(e.storage===null||e.storage===void 0?void 0:e.storage.colors[h.id])||((M=wt.find(function(F){return F?.id==h?.id}))===null||M===void 0?void 0:M.defaultColor)||"#000"}}))}))}),a.React.createElement(fe,{style:l.container},a.React.createElement(he,{style:{justifyContent:"center",alignItems:"center"},label:"Preview Style: ".concat(!(e.storage===null||e.storage===void 0||(u=e.storage.switches)===null||u===void 0)&&u.darkMode?"Dark":"Light"," Mode"),subLabel:"Click to Switch Mode",trailing:a.React.createElement(Pa,{value:(w=e.storage===null||e.storage===void 0||(i=e.storage.switches)===null||i===void 0?void 0:i.darkMode)!==null&&w!==void 0?w:!0,onValueChange:function(h){return e.storage.switches.darkMode=h}})}),a.React.createElement(fe,{style:[l.row,l.border,{overflow:"hidden",marginRight:10}]},a.React.createElement(fe,{style:{width:"2%",backgroundColor:"".concat(e.storage.colors.gutterColor).concat(f(R))}}),a.React.createElement(fe,{style:{flex:1,backgroundColor:"".concat(e.storage.switches.useSemRawColors&&m(e.storage===null||e.storage===void 0||(c=e.storage.colors)===null||c===void 0?void 0:c.semRawColorPrefix)||e.storage.colors.backgroundColor).concat(f(g)),justifyContent:"center",alignItems:"center"}},a.React.createElement(yt,{style:{fontSize:20,color:!(e.storage===null||e.storage===void 0||(d=e.storage.switches)===null||d===void 0)&&d.darkMode?"white":"black"}}," Low Effort Normal Example Message "),a.React.createElement(yt,{style:{fontSize:20,color:e.storage.colors.textColor||"#000000"}}," Low Effort Deleted Example Message "))),a.React.createElement(Ft,{label:"Background Color Alpha: ".concat(ve(g),"%"),value:g,style:{width:"90%"},onValueChange:function(h){I(Number(Et(h))),e.storage.colors.backgroundColorAlpha=Ne(ve(h))}}),a.React.createElement(Ba,null),a.React.createElement(Ft,{label:"Background Gutter Alpha: ".concat(ve(R),"%"),value:R,style:{width:"90%"},onValueChange:function(h){T(Number(Et(h))),e.storage.colors.gutterColorAlpha=Ne(ve(h))}}))))}var Ma=t.General.ScrollView,_e=t.General.View,xa=t.General.Text,Ct=t.General.TouchableOpacity;t.General.TextInput;var Na=t.General.Image,Ce=t.General.Animated,_a=t.Forms.FormLabel,pa=t.Forms.FormIcon;t.Forms.FormArrow;var pe=t.Forms.FormRow,Ga=t.Forms.FormSwitch;t.Forms.FormSwitchRow;var Ua=t.Forms.FormSection,Oa=t.Forms.FormDivider,St=t.Forms.FormInput,ka=S.findByName("useIsFocused");S.findByProps("BottomSheetScrollView").BottomSheetFlatList;var At=S.findByStoreName("UserStore"),Ge=S.findByProps("showUserProfile");b.getAssetIDByName("ic_add_24px"),b.getAssetIDByName("ic_arrow"),b.getAssetIDByName("ic_minus_circle_24px"),b.getAssetIDByName("Check"),b.getAssetIDByName("Small");function Dt(r){return a.React.createElement(pa,{style:{opacity:1},source:b.getAssetIDByName(r)})}var j=a.stylesheet.createThemedStyleSheet({basicPad:{paddingRight:10,marginBottom:10,letterSpacing:.25},header:{color:L.semanticColors.HEADER_PRIMARY,fontFamily:a.constants.Fonts.DISPLAY_BOLD,fontSize:25,paddingLeft:"3%",letterSpacing:.25},sub:{color:L.semanticColors.TEXT_POSITIVE,fontFamily:a.constants.Fonts.DISPLAY_NORMAL,paddingLeft:"4%",fontSize:18},flagsText:{color:L.semanticColors.HEADER_SECONDARY,fontFamily:a.constants.Fonts.PRIMARY_BOLD,paddingLeft:"4%",fontSize:16},container:{marginTop:25,marginLeft:"5%",marginBottom:-15,flexDirection:"row"},textContainer:{paddingLeft:15,paddingTop:5,flexDirection:"column",flexWrap:"wrap",shadowColor:"#000",shadowOffset:{width:1,height:4},shadowOpacity:.2,shadowRadius:4.65,elevation:8},image:{width:75,height:75,borderRadius:10,shadowColor:"#000",shadowOffset:{width:1,height:4},shadowOpacity:.2,shadowRadius:4.65,elevation:8},mainText:{opacity:.975,letterSpacing:.25},subHeader:{color:L.semanticColors.HEADER_SECONDARY,fontSize:12.75}});function It(r){var l=r.index,s,o,n,u;O.useProxy(e.storage);var i=e.storage===null||e.storage===void 0||(s=e.storage.inputs)===null||s===void 0?void 0:s.ignoredUserList[l],c=a.React.useRef(new Ce.Value(1)).current,d=function(){return Ce.spring(c,{toValue:1.1,duration:10,useNativeDriver:!0}).start()},E=function(){return Ce.spring(c,{toValue:1,duration:250,useNativeDriver:!0}).start()},y={transform:[{scale:c}]},g=At.getUser(i?.id),I=Object.values(At.getUsers());g||(g=I.find(function(v){return v?.username==i?.username})),g||(g=I.find(function(v){var R,T;return(v==null||(R=v.username)===null||R===void 0?void 0:R.toLowerCase())==(i==null||(T=i.username)===null||T===void 0?void 0:T.toLowerCase())}));var A=a.NavigationNative.useNavigation();return ka(),a.React.createElement(a.React.Fragment,null,a.React.createElement(Ma,null,a.React.createElement(_e,{style:[j.basicPad,j.sub]},a.React.createElement(Ua,{title:"User Setting",style:[j.header]},a.React.createElement(pe,{label:"Find User Id or Username",leading:Dt("ic_search"),onPress:function(){var v,R;g&&!(!((v=i.username)===null||v===void 0)&&v.length)?i.username=g.username:g&&!(!((R=i.id)===null||R===void 0)&&R.length)?i.id=g.id:Fe.showToast("Cannot find User Id/Username.")}}),a.React.createElement(St,{title:"User Username | Case Sensitive",placeholder:"Missing No",value:i?.username,onChange:function(v){return i.username=v}}),a.React.createElement(St,{title:"User Id",placeholder:"Missing No",value:i?.id,onChange:function(v){return i.id=v}}),a.React.createElement(pe,{label:"User is webhook?",subLabel:"User is webhook or system, and not BOT or Normal User.",leading:Dt("ic_webhook_24px"),trailing:a.React.createElement(Ga,{value:i?.isWebhook||!1,onValueChange:function(v){return i.isWebhook=v}})})),g&&a.React.createElement(_e,{style:[j.container,{paddingBottom:10}]},a.React.createElement(Ct,{onPress:function(){var v;return(v=Ge.showUserProfile)===null||v===void 0?void 0:v.call(Ge,{userId:g?.id})},onPressIn:d,onPressOut:E},a.React.createElement(Ce.View,{style:y},a.React.createElement(Na,{source:{uri:(g==null||(o=g.getAvatarURL)===null||o===void 0||(n=o.call(g))===null||n===void 0||(u=n.replace)===null||u===void 0?void 0:u.call(n,"webp","png"))||"https://cdn.discordapp.com/embed/avatars/2.png"},style:{width:128,height:128,borderRadius:10}}))),a.React.createElement(_e,{style:j.textContainer},a.React.createElement(Ct,{onPress:function(){return Ge.showUserProfile({userId:g?.id})}},a.React.createElement(xa,{style:[j.mainText,j.header]},g?.username||i?.username||"No Name"))),a.React.createElement(Oa,null)),a.React.createElement(pe,{label:a.React.createElement(_a,{text:"Remove User from Ignore List",style:{color:L.rawColors.RED_400}}),onPress:function(){var v,R;A.pop(),e.storage===null||e.storage===void 0||(v=e.storage.inputs)===null||v===void 0||(R=v.ignoredUserList)===null||R===void 0||R.splice(l,1)}}))))}var $a=t.General.ScrollView,Va=t.General.View;t.General.Text;var za=t.General.TouchableOpacity,Ha=t.General.TextInput;t.Forms.FormLabel;var Ya=t.Forms.FormIcon,ja=t.Forms.FormArrow,Ue=t.Forms.FormRow;t.Forms.FormSwitch,t.Forms.FormSwitchRow;var Xa=t.Forms.FormSection,Wa=t.Forms.FormDivider;t.Forms.FormInput;function Tt(r,l){return a.React.createElement(Ya,{style:{opacity:1},source:r})}var Ja=S.findByName("useIsFocused");S.findByProps("BottomSheetScrollView").BottomSheetFlatList;var Ka=S.findByProps("getUser").getUser,Qa=b.getAssetIDByName("ic_add_24px");b.getAssetIDByName("ic_arrow"),b.getAssetIDByName("ic_minus_circle_24px"),b.getAssetIDByName("Check"),b.getAssetIDByName("Small");var qa=b.getAssetIDByName("ic_trash_24px"),re=a.stylesheet.createThemedStyleSheet({basicPad:{paddingRight:10,marginBottom:10,letterSpacing:.25},header:{color:L.semanticColors.HEADER_SECONDARY,fontFamily:a.constants.Fonts.PRIMARY_BOLD,paddingLeft:"3.5%",fontSize:24},sub:{color:L.semanticColors.TEXT_POSITIVE,fontFamily:a.constants.Fonts.DISPLAY_NORMAL,paddingLeft:"4%",fontSize:18},flagsText:{color:L.semanticColors.HEADER_SECONDARY,fontFamily:a.constants.Fonts.PRIMARY_BOLD,paddingLeft:"4%",fontSize:16},input:{fontSize:16,fontFamily:a.constants.Fonts.PRIMARY_MEDIUM,color:L.semanticColors.TEXT_NORMAL},placeholder:{color:L.semanticColors.INPUT_PLACEHOLDER_TEXT}});function Za(){var r;O.useProxy(e.storage);var l=G(a.React.useState(""),2),s=l[0],o=l[1],n=a.NavigationNative.useNavigation();Ja();var u,i=(u=e.storage===null||e.storage===void 0||(r=e.storage.inputs)===null||r===void 0?void 0:r.ignoredUserList)!==null&&u!==void 0?u:[],c=function(){if(s){if(isNaN(parseInt(s)))i.push({id:void 0,username:s});else{var d=Ka(s);if(d)i.push({id:d?.id,username:"",showUser:!1,isWebhook:!1});else return Fe.showToast("Invalid User Id")}o(""),n.push("VendettaCustomPage",{title:"Adding User to Ignore List",render:function(){return a.React.createElement(It,{index:i?.length-1})}})}};return a.React.createElement(a.React.Fragment,null,a.React.createElement($a,{style:{flex:1}},a.React.createElement(Xa,{style:[re.header,re.basicPad]},a.React.createElement(Va,{style:[re.header,re.sub]},i.length>0&&a.React.createElement(Ue,{label:"Clear List",trailing:Tt(qa),onPress:function(){i.length!==0&&kt.showConfirmationAlert({title:"Hol up, wait a minute!",content:"This will removes in total ".concat(i.length," users from ignore list."),confirmText:"Ye",cancelText:"Nah",confirmColor:"brand",onConfirm:function(){e.storage.inputs.ignoredUserList=[]}})}}),i?.map(function(d,E){return a.React.createElement(a.React.Fragment,null,a.React.createElement(Ue,{label:d?.username||d?.id||"No Data",trailing:a.React.createElement(ja,null),onPress:function(){return n.push("VendettaCustomPage",{title:"Editing User",render:function(){return a.React.createElement(It,{index:E})}})}}),E!==i?.length-1&&a.React.createElement(Wa,null))}),a.React.createElement(Ue,{label:a.React.createElement(Ha,{value:s,onChangeText:o,placeholder:"User ID or Username",placeholderTextColor:re.placeholder.color,selectionColor:a.constants.Colors.PRIMARY_DARK_100,onSubmitEditing:c,returnKeyType:"done",style:re.input}),trailing:a.React.createElement(za,{onPress:c},Tt(Qa))})))))}t.General.ScrollView,t.General.View,t.General.Text;var er=t.General.TouchableOpacity;t.General.TextInput,t.General.Pressable,t.General.Image,t.General.Animated,t.Forms.FormLabel;var Pt=t.Forms.FormIcon;t.Forms.FormArrow;var tr=t.Forms.FormRow;t.Forms.FormSwitch,t.Forms.FormSwitchRow,t.Forms.FormSection;var ar=t.Forms.FormDivider;t.Forms.FormInput,t.Forms.FormSliderRow;function rr(){O.useProxy(e.storage);var r=a.NavigationNative.useNavigation(),l=function(){r.push("VendettaCustomPage",{title:"List of Ignored Users",render:function(){return React.createElement(Za,null)}})};return React.createElement(React.Fragment,null,React.createElement(tr,{label:"Add User to List",subLabel:"List of ignored users for the plugin",leading:React.createElement(Pt,{style:{opacity:1},source:b.getAssetIDByName("ic_members")}),onPress:l,trailing:React.createElement(er,{onPress:l},React.createElement(Pt,{style:{opacity:1},source:b.getAssetIDByName("ic_add_24px")}))}),React.createElement(ar,null))}t.General.ScrollView;var lr=t.General.View;t.General.Text,t.General.TouchableOpacity,t.General.TextInput,t.General.Pressable,t.General.Image,t.General.Animated;var sr=t.Forms.FormRow,or=t.Forms.FormIcon,ir=t.Forms.FormSwitch,nr=t.Forms.FormDivider,dr=S.findByName("HelpMessage"),Bt=[{id:"minimalistic",default:!0,label:"Minimalistic Settings",subLabel:"Removes all Styling (Enabled by Default)"},{id:"useBackgroundColor",default:!1,label:"Enable Background Color",subLabel:"Background Color for Deleted Message, similiar to Mention but Customizeable"},{id:"useSemRawColors",default:!1,label:"Use Semantic/Raw Color",subLabel:"Use Semantic/Raw Color instead of Custom Color for Background Color, doesn't applied to GutterColor"},{id:"ignoreBots",default:!1,label:"Ignore Bots",subLabel:"Ignore bot deleted messages."},{id:"removeDismissButton",default:!1,label:"Remove Dissmiss Message",subLabel:"Remove clickable Dismiss Message text from deleted ephemeral messages."},{id:"addTimestampForEdits",default:!1,label:"Add Edit Timestamp",subLabel:"Add Timestamp for edited messages."},{id:"useEphemeralForDeleted",default:!0,label:"Use Ephemeral for Deleted",subLabel:"When messages got deleted it'll use ephemeral instead of normal message (Enabled by Default)."}];function ur(r){var l=r.styles;return O.useProxy(e.storage),React.createElement(React.Fragment,null,React.createElement(lr,{style:[l.subText]},(e.storage===null||e.storage===void 0?void 0:e.storage.switches.minimalistic)&&React.createElement(dr,{messageType:0},'To use styling, disable "Minimalistic" option'),Bt?.map(function(s,o){var n;return React.createElement(React.Fragment,null,React.createElement(sr,{label:s?.label,subLabel:s?.subLabel,leading:s?.icon&&React.createElement(or,{style:{opacity:1},source:b.getAssetIDByName(s?.icon)}),trailing:"id"in s?React.createElement(ir,{value:(n=e.storage===null||e.storage===void 0?void 0:e.storage.switches[s?.id])!==null&&n!==void 0?n:s?.default,onValueChange:function(u){return e.storage.switches[s?.id]=u}}):void 0}),o!==Bt?.length-1&&React.createElement(nr,null))})))}function le(){for(var r=arguments.length,l=new Array(r),s=0;s<r;s++)l[s]=arguments[s];return Ie(l)}var cr=[ot("1.2.0 - 1.2.5",le("[1.2.0] Added Update Section","[1.2.2] Added Support for Semantic Colors","[1.2.2] Added Support for Raw Colors","[1.2.2] Added Support for Timestamp Format","[1.2.5] Added option useEphemeralForDeleted modification in Customize Section","[1.2.5] Added new button on actionMessage if useEphemeralForDeleted disabled"),le("[1.2.1] Redesign Setting Page","[1.2.2] Reworked how Message update appends separator","[1.2.4] Update Remove Edit button style"),le("[1.2.3] Fixed Remove Edit button to not persist under Edit Message Button","[1.2.4] Fixed Message Parser Fails to parse edited message")),ot("1.3",le("[1.3] Option to custom name the plugin","[1.3] Option to replace icon toast for edited history toast"),le("[1.3] Removes Logging system due crashes and inefficient code","[1.3] Removes patch to user setting to avoid crashes again"),le("[1.3] Hopefully fixed the issue with IOS crash on setting"))],Oe=cr.reverse();t.General.ScrollView;var Lt=t.General.View;t.General.Text,t.General.TouchableOpacity,t.General.TextInput,t.General.Image,t.General.Animated,t.Forms.FormLabel;var gr=t.Forms.FormIcon;t.Forms.FormArrow;var ke=t.Forms.FormRow;t.Forms.FormSwitch,t.Forms.FormSwitchRow,t.Forms.FormSection;var vr=t.Forms.FormDivider;t.Forms.FormInput;var fr=b.getAssetIDByName("ic_radio_square_checked_24px"),hr=b.getAssetIDByName("ic_radio_square_24px"),mr=b.getAssetIDByName("ic_information_24px");b.getAssetIDByName("ic_info");var Rr=b.getAssetIDByName("premium_sparkles"),br=b.getAssetIDByName("ic_sync_24px"),Er=b.getAssetIDByName("ic_progress_wrench_24px"),me,se=a.stylesheet.createThemedStyleSheet((me={border:{borderRadius:10},textBody:{color:L.semanticColors.TEXT_NORMAL,fontFamily:a.constants.Fonts.PRIMARY_MEDIUM,letterSpacing:.25,fontSize:22}},Te(me,"textBody",{color:L.semanticColors.INPUT_PLACEHOLDER_TEXT,fontFamily:a.constants.Fonts.DISPLAY_NORMAL,letterSpacing:.25,fontSize:16}),Te(me,"versionBG",{margin:10,padding:15,backgroundColor:"rgba(55, 149, 225, 0.3)"}),Te(me,"rowLabel",{margin:10,padding:15,backgroundColor:"rgba(33, 219, 222, 0.34)"}),me));function Se(r){return a.React.createElement(gr,{style:{opacity:1},source:r})}function yr(r){var l=r.change,s=r.index,o=r.totalIndex,n,u,i,c=G(a.React.useState(!1),2),d=c[0],E=c[1],y=G(a.React.useState(!1),2);y[0],y[1];function g(I,A,v,R){return a.React.createElement(Lt,null,a.React.createElement(ke,{label:A||"No Section",subLabel:v||null,leading:R&&Se(R),style:[se.textHeader]}),I.map(function(T,k){return a.React.createElement(a.React.Fragment,null,a.React.createElement(ke,{label:T,style:[se.textBody,se.rowLabel,se.border]}))}))}return a.React.createElement(a.React.Fragment,null,a.React.createElement(t.ErrorBoundary,null,a.React.createElement(ke,{label:l?.version,leading:s==0?Se(fr):Se(hr),trailing:Se(mr),onPress:function(){E(!d)}}),d&&a.React.createElement(Lt,{style:[se.versionBG,se.border]},(l==null||(n=l.new)===null||n===void 0?void 0:n.length)>0&&g(l.new,"New","New stuffies",Rr),(l==null||(u=l.updated)===null||u===void 0?void 0:u.length)>0&&g(l.updated,"Changes","Update things",br),(l==null||(i=l.fix)===null||i===void 0?void 0:i.length)>0&&g(l.fix,"Fixes","Me hate borken things",Er)),s==o.length-1?void 0:a.React.createElement(vr,null)))}var Fr=t.General.ScrollView,$e=t.General.View;t.General.Text,t.General.TouchableOpacity,t.General.TextInput,t.General.Pressable,t.General.Image;var Ve=t.General.Animated;t.Forms.FormLabel,t.Forms.FormIcon,t.Forms.FormArrow;var Mt=t.Forms.FormRow,xt=t.Forms.FormSwitch;t.Forms.FormSwitchRow;var Nt=t.Forms.FormSection,_t=t.Forms.FormDivider;t.Forms.FormInput,t.Forms.FormSliderRow;var wr=S.findByName("LinearGradient"),U=a.stylesheet.createThemedStyleSheet({text:{color:L.semanticColors.HEADER_SECONDARY,paddingLeft:"5.5%",paddingRight:10,marginBottom:10,letterSpacing:.25,fontFamily:a.constants.Fonts.PRIMARY_BOLD,fontSize:16},subText:{color:L.semanticColors.TEXT_POSITIVE,paddingLeft:"6%",paddingRight:10,marginBottom:10,letterSpacing:.25,fontFamily:a.constants.Fonts.DISPLAY_NORMAL,fontSize:12},input:{fontSize:16,fontFamily:a.constants.Fonts.PRIMARY_MEDIUM,color:L.semanticColors.TEXT_NORMAL},placeholder:{color:L.semanticColors.INPUT_PLACEHOLDER_TEXT},container:{flex:1,justifyContent:"center",alignItems:"center"},colorPreview:{width:"75%",height:100,marginBottom:20},row:{flexDirection:"row",height:80,width:"90%",marginBottom:20},border:{borderRadius:12},lnBorder:{borderRadius:12,overflow:"hidden"},shadowTemplate:{shadowOffset:{width:1,height:3},shadowOpacity:.9,shadowRadius:24,elevation:16},lnShadow:{flex:1,margin:"1%",shadowColor:"#b8ff34"},darkMask:{backgroundColor:"rgba(10, 10, 10, 0.9)",margin:2,padding:"3%"},padBot:{paddingBottom:20}});function Cr(){var r;O.useProxy(e.storage);var l=G(a.React.useState(new Ve.Value(0)),1),s=l[0];a.React.useEffect(function(){Ve.loop(Ve.timing(s,{toValue:4,duration:8e3,useNativeDriver:!0})).start()},[]);var o={backgroundColor:s.interpolate({inputRange:[0,1,2,3,4],outputRange:["rgba(188,31,31,0.5)","rgba(46,168,30,0.5)","rgba(48,179,173,0.5)","rgba(183,40,198,0.5)","rgba(188,31,31,0.5)"]})},n=function(d,E,y,g,I,A){return{id:d,title:E,label:y,subLabel:g,props:I,propsData:A}},u=[n("patches","Plugin Patcher","Show Patches","Toggle what the plugin patch",ga,U),n("customize","Customization","Customize",null,ur,U),n("text","Text Variables","Customize Texts",null,ma,U),n("timestamp","Timestamp","Timestamp Styles",null,Ea,U),n("colorpick","Colors","Customize Colors",null,La,U),n("ingorelist","Ignore List","Show IngoreList",null,rr,null)],i=(a.ReactNative===null||a.ReactNative===void 0||(r=a.ReactNative.Platform)===null||r===void 0?void 0:r.OS)||null,c=a.React.createElement(a.React.Fragment,null,a.React.createElement($e,{style:[U.lnBorder,o,U.darkMask]},u.map(function(d){return a.React.createElement(a.React.Fragment,null,a.React.createElement(Nt,{title:d?.title},a.React.createElement(Mt,{label:d?.label,subLabel:d?.subLabel,trailing:a.React.createElement(xt,{value:e.storage.setting[d?.id],onValueChange:function(E){e.storage.setting[d?.id]=E}})}),e.storage.setting[d.id]&&d.props&&a.React.createElement($e,{style:{margin:5,padding:10,borderRadius:10,backgroundColor:"rgba(0, 0, 0, 0.15)"}},a.React.createElement(d.props,{styles:d.propsData}))))}),a.React.createElement(_t,null),a.React.createElement(Mt,{label:"Debug",subLabel:"Enable console logging",style:[U.padBot],trailing:a.React.createElement(xt,{value:e.storage.debug,onValueChange:function(d){e.storage.debug=d}})}),a.React.createElement(_t,null),Oe&&a.React.createElement(Nt,{title:"Updates"},a.React.createElement($e,{style:{margin:5,padding:5,borderRadius:10,backgroundColor:"rgba(59, 30, 55, 0.15)"}},Oe.map(function(d,E){return a.React.createElement(yr,{change:d,index:E,totalIndex:Oe.length})})))));return a.React.createElement(a.React.Fragment,null,a.React.createElement(Fr,null,i=="android"?a.React.createElement(a.React.Fragment,null,a.React.createElement(wr,{start:{x:.8,y:0},end:{x:0,y:.8},colors:["#b8ff34","#4bff61","#44f6ff","#4dafff","#413dff","#d63efd"],style:[U.lnBorder,U.shadowTemplate,U.lnShadow,U.padBot]},c)):c))}var ze,pt=S.findByProps("_channelMessages"),Ae=function(r){return r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},He=function(r){return r.replace(/\s?v\d+.\d+.\w+/,"")},Sr=Object.keys(Vt.all).map(function(r){return r?.name});st(e.storage,{setting:{colorpick:!1,customize:!1,ingorelist:!1,patches:!1,text:!1,timestamp:!1},switches:{customizeable:!1,enableMD:!0,enableMU:!0,useBackgroundColor:!1,useSemRawColors:!1,ignoreBots:!1,minimalistic:!0,alwaysAdd:!1,darkMode:!0,removeDismissButton:!1,addTimestampForEdits:!1,timestampStyle:"R",useEphemeralForDeleted:!0},colors:{textColor:"#E40303",backgroundColor:"#FF2C2F",backgroundColorAlpha:"33",gutterColor:"#FF2C2F",gutterColorAlpha:"CC",semRawColorPrefix:"semanticColors.TEXT_BRAND"},inputs:{deletedMessageBuffer:"This message is deleted",editedMessageBuffer:"`[ EDITED ]`",historyToast:"[ANTI ED] History Removed",ignoredUserList:[],customPluginName:(B.plugin===null||B.plugin===void 0||(ze=B.plugin.manifest)===null||ze===void 0?void 0:ze.name)||"ANTIED"},misc:{timestampPos:"BEFORE",editHistoryIcon:"ic_edit_24px"},debug:!1});var Ye={},Gt=[],Ar={onLoad:function(){var r,l;if(Gt.push(Jt(Ye),Zt(Ye),Qt(),ta(),ra(),la(),oa(Ye)),(B.plugin===null||B.plugin===void 0||(r=B.plugin.manifest)===null||r===void 0?void 0:r.name)!=(e.storage===null||e.storage===void 0||(l=e.storage.inputs)===null||l===void 0?void 0:l.customPluginName)){var s;B.plugin.manifest.name=e.storage===null||e.storage===void 0||(s=e.storage.inputs)===null||s===void 0?void 0:s.customPluginName}},onUnload:function(){var r,l,s=!0,o=!1,n=void 0;try{for(var u=Gt[Symbol.iterator](),i;!(s=(i=u.next()).done);s=!0){var c=i.value;c()}}catch(T){o=!0,n=T}finally{try{!s&&u.return!=null&&u.return()}finally{if(o)throw n}}if((B.plugin===null||B.plugin===void 0||(r=B.plugin.manifest)===null||r===void 0?void 0:r.name)!=(e.storage===null||e.storage===void 0||(l=e.storage.inputs)===null||l===void 0?void 0:l.customPluginName)){var d;B.plugin.manifest.name=e.storage===null||e.storage===void 0||(d=e.storage.inputs)===null||d===void 0?void 0:d.customPluginName}for(var E in pt._channelMessages){var y=!0,g=!1,I=void 0;try{for(var A=pt._channelMessages[E]._array[Symbol.iterator](),v;!(y=(v=A.next()).done);y=!0){var R=v.value;R.was_deleted&&a.FluxDispatcher.dispatch({type:"MESSAGE_DELETE",id:R.id,channelId:R.channel_id,otherPluginBypass:!0})}}catch(T){g=!0,I=T}finally{try{!y&&A.return!=null&&A.return()}finally{if(g)throw I}}}},settings:Cr};return ae.default=Ar,ae.regexEscaper=Ae,ae.stripVersions=He,ae.vendettaUiAssets=Sr,Object.defineProperty(ae,"__esModule",{value:!0}),ae})({},vendetta,vendetta.metro,vendetta.ui.components,ld,nd,x$3,vendetta.patcher,vendetta.ui.assets,vendetta.utils,vendetta.metro.common,vendetta.plugin,vendetta.ui.toasts,vendetta.storage,vendetta.ui,t$1,vendetta.ui.alerts,f$7);
